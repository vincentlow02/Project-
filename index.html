<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inspirational Quotes</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="progressBar"></div>

  <main class="container" id="mainContent">

    <!-- PAGE 1 -->
    <section class="page" id="page1">
      <video autoplay muted loop playsinline class="background-video">
        <source src="herovideopart01.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>

      <img src="weave.svg" alt="Weave Logo" class="page1-svg-logo">

      <div class="content">
        <h1>旅は真の知識の大きな泉である</h1>
        <p>ベンジャミン・ディズレーリ</p>
      </div>

      <div class="scroll-indicator">
        <div class="arrow"></div>
        <span>Scroll to continue</span>
      </div>

      <div class="audio-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
          <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        </svg>
      </div>
    </section>

    <!-- PAGE 2 -->
    <section class="page" id="page2">
      <img src="weave.svg" alt="Weave Logo" class="page1-svg-logo">

      <video autoplay muted loop playsinline class="background-video">
        <source src="herovideopart02.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>

      <div class="content fade-in-section">
        <h1>目的地というものは決して場所ではなく、<br>物事の新しい見方である。</h1>
        <p>ヘンリー・ミラー</p>
      </div>
    </section>

    <!-- PAGE 3 -->
    <section class="page" id="page3">
      <img src="weave.svg" alt="Weave Logo" class="page1-svg-logo">

      <video autoplay muted loop playsinline class="background-video">
        <source src="herovideopart03.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>

      <div class="content fade-in-section">
        <img src="Weave AI.svg" style="width: 80%; max-width: 1750px;">

        <div style="position: absolute; bottom: -180px; left: 50%;
                    transform: translateX(-50%); text-align: center;">
          <div id="enterButton">
            <span>Enter</span>
          </div>
          <p class="subtitle">Click enter to continue</p>
        </div>
      </div>
    </section>
  </main>

  <!-- SEARCH INTERFACE -->
  <section class="page hidden" id="searchInterface">
    
    

    <div id="sidebar" class="collapsed">
      <div class="sidebar-icon-bar">
        <div class="sidebar-item" id="sidebar-toggle">
          <div class="icon">
            <img src="assets/arrow-left.svg" alt="Toggle Sidebar">
          </div>
        </div>

        <div class="sidebar-nav">
          <div class="sidebar-item">
            <div class="icon">
              <img src="assets/plus.svg" alt="New">
            </div>
          </div>

          <div class="sidebar-item active">
            <div class="icon">
              <img src="assets/search-icon.svg" alt="Home">
            </div>
            <span class="label">ホーム</span>
          </div>

          <div class="sidebar-item">
            <div class="icon">
              <img src="assets/star.svg" alt="Saved">
            </div>
            <span class="label">保存</span>
          </div>

          <div class="sidebar-item">
            <div class="icon">
              <img src="assets/discover.svg" alt="Discover">
            </div>
            <span class="label">発見</span>
          </div>
        </div>
      </div>

      <div class="sidebar-content-panel">
        <div class="panel-header">
          <span class="panel-title">ホーム</span>
          <img src="assets/pin.svg" alt="Pin">
        </div>

        <div class="panel-button">
          <img src="assets/plus.svg" alt="New">
          <span>新しいチャット</span>
        </div>

        <div class="panel-section">
          <h3 class="subheader">チャット</h3>
          <ul class="chat-list">
            <li>海外旅行おすすめ</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- PAGE CONTENT -->
    <main id="page-content">
      <div class="widget-container">
        <div class="date" id="date-display"></div>
        <div class="time" id="time-display"></div>
        <div class="weather">
          <img class="weather-icon" src="assets/weather-icon.svg" alt="Weather">
          <span class="temperature">19°</span>
        </div>
        </div>
  <div class="location" id="location-display">取得中...</div> <!-- 新增 -->
</div>
      </div>

      <div class="bottom-right-button"></div>

      <main class="video-container">
        <video id="skyVideo" autoplay muted loop playsinline
               class="background-video-pagecontent" style="opacity: 0.6;">
          <source src="sky.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>

        <img src="Rectangle 22.svg" alt="Rectangle Overlay" class="overlay-rectangle">

        <div class="top-right-nav">
          <div id="profile-icon">
            <img src="assets/Avatar.svg" alt="Alex28">
            <h2>Alex28 <span class="verified">[✓ DID Verified]</span></h2>
          </div>
        </div>
      </main>
    </main>
  </section>

  <!-- SCRIPT -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.querySelector('.container');
      const progressBar = document.getElementById('progressBar');
      const searchInterface = document.getElementById('searchInterface');
      const enterButton = document.getElementById('enterButton');
      const pages = document.querySelectorAll('#mainContent .page');

      // --- 声音按钮功能 ---
      const video = document.querySelector('.background-video');
      const audioIcon = document.querySelector('.audio-icon');
      audioIcon.addEventListener('click', () => {
        video.muted = !video.muted;
        audioIcon.classList.toggle('is-unmuted', !video.muted);
      });

      // --- 页面1淡出功能 ---
      const page1Elements = document.querySelectorAll('#page1 .content, #page1 .scroll-indicator');
      function handlePage1Fade() {
        const scrollTop = container.scrollTop;
        const pageHeight = container.clientHeight;
        const opacity = Math.max(0, 1 - (scrollTop / (pageHeight * 0.5)));
        page1Elements.forEach(el => {
          el.style.opacity = opacity;
        });
      }

      // --- 进度条功能 ---
      function updateProgressBar() {
        const scrollTop = container.scrollTop;
        const scrollHeight = container.scrollHeight - container.clientHeight;
        const scrollProgress = (scrollTop / scrollHeight) * 100;
        progressBar.style.height = scrollProgress + '%';
      }

      // --- 页面2,3 淡入功能 ---
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('is-visible');
          else entry.target.classList.remove('is-visible');
        });
      }, { threshold: 0.5 });

      const fadeInSections = document.querySelectorAll('.fade-in-section');
      fadeInSections.forEach(section => observer.observe(section));

      // --- 滚动事件监听 ---
      container.addEventListener('scroll', () => {
        window.requestAnimationFrame(() => {
          handlePage1Fade();
          updateProgressBar();
        });
      });

      if (enterButton) {
        enterButton.addEventListener('click', function() {
          mainContent.classList.add('hidden');
          searchInterface.classList.remove('hidden');
        });
      }

      // --- 搜索界面的逻辑 ---
      const sidebar = document.getElementById('sidebar');
      const sidebarToggle = document.getElementById('sidebar-toggle');
      const pageContent = document.getElementById('page-content');
      sidebarToggle.addEventListener('click', function() {
        sidebar.classList.toggle('collapsed');
        pageContent.classList.toggle('sidebar-collapsed');
      });

      // --- 实时时钟逻辑 ---
      const timeDisplay = document.getElementById('time-display');
      const dateDisplay = document.getElementById('date-display');
      function updateClock() {
        const now = new Date();
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        const dayOfWeek = days[now.getDay()];
        const dayOfMonth = now.getDate();
        const dateString = `${dayOfWeek} ${dayOfMonth}`;
        if (dateDisplay.textContent !== dateString) dateDisplay.textContent = dateString;
        const hours = now.getHours();
        let minutes = now.getMinutes();
        minutes = minutes < 10 ? '0' + minutes : minutes;
        const timeString = `${hours}:${minutes}`;
        if (timeDisplay.textContent !== timeString) timeDisplay.textContent = timeString;
      }
      updateClock();
      setInterval(updateClock, 1000);

      // --- 个人资料页面显示逻辑 ---
      const profileIcon = document.getElementById('profile-icon');
      const backArrowBtn = document.getElementById('back-arrow-btn');
      const profilePage = document.getElementById('profile-page');
      const profileCloseBtn = document.getElementById('profile-close-btn');

      function openProfilePage() {
        profilePage.classList.remove('hidden');
      }

      function closeProfilePage() {
        profilePage.classList.add('hidden');
      }

      if (profileIcon) profileIcon.addEventListener('click', openProfilePage);
      if (backArrowBtn) backArrowBtn.addEventListener('click', openProfilePage);
      if (profileCloseBtn) profileCloseBtn.addEventListener('click', closeProfilePage);
    });

   document.addEventListener('DOMContentLoaded', () => {
  const locationDisplay = document.getElementById('location-display');

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(async (pos) => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;

      try {
        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json&accept-language=en&zoom=18`);
        const data = await response.json();

        if (data?.address) {
          const addr = data.address;
          const parts = [
            addr.city || addr.town || addr.village,
            addr.suburb,
            addr.state,
            addr.country
          ].filter(Boolean); // 过滤空值
          locationDisplay.textContent = parts.join(", ");
        } else {
          locationDisplay.textContent = "Hachioji, Tokyo, Japan"; // fallback
        }
      } catch {
        locationDisplay.textContent = "Hachioji, Tokyo, Japan"; // fallback
      }
    }, () => {
      locationDisplay.textContent = "Hachioji, Tokyo, Japan"; // fallback
    }, { enableHighAccuracy: true });
  } else {
    locationDisplay.textContent = "Location not supported";
  }
});
  </script>

  
</body>
</html>
